"use strict";var moqJS;(function(n){var r=function(){function n(n,t){this.exptectedArguments=n;this.override=t}return n}(),t,i;(function(n){n[n.ThrowError=0]="ThrowError";n[n.ReturnValue=1]="ReturnValue";n[n.DoNothing=2]="DoNothing"})(t||(t={}));i=function(){function t(n,t,i,r){this.originalFunctionName=n;this.originalFunction=t;this.thisObject=i;this.functionProxyConfigurations=r;this._numberOfTimesCalled=0;this._actualArguments=[];this._argumentsWithOverridesList=[]}return t.prototype.callFunction=function(t){if(this.functionProxyConfigurations.functionCallMode instanceof n.InvokeFunctionCallMode)return this._callFunctionWithoutVerification(t);if(this.functionProxyConfigurations.functionCallMode instanceof n.OverrideFunctionCallMode)this._addOverride(t,this.functionProxyConfigurations.functionCallMode);else if(this.functionProxyConfigurations.functionCallMode instanceof n.VerifyFunctionCallMode)this._verifyFunction(t,this.functionProxyConfigurations.functionCallMode);else throw"not supported functionCallMode";},t.prototype._callFunctionWithoutVerification=function(n){var i,t;if(this._numberOfTimesCalled++,this._actualArguments.push(n),i=this._getMatchingOverrides(n),i.length>0)return t=this._executeOverrides(i,n),this._moleReturnValueIfNeeded(t);if(this.functionProxyConfigurations.isStrict)throw'No function setups defined and using strict mode. Change "isStrict" to false or define a function setup';if(this.functionProxyConfigurations.callBase)return t=this.originalFunction.apply(this.thisObject,n),this._moleReturnValueIfNeeded(t)},t.prototype._getMatchingOverrides=function(n){for(var i,r=[],t=0;t<this._argumentsWithOverridesList.length;t++)i=this._argumentsWithOverridesList[t],this._doArgumentsMatch(i.exptectedArguments,n)&&r.push(i.override);return r},t.prototype._executeOverrides=function(t,i){for(var r,u=2,e,o,f=0;f<t.length;f++){if(r=t[f],r instanceof n.ThrowsOverrideFunctionCallMode){u=0;e=r.override.apply(this.thisObject,i);continue}if(r instanceof n.ReturnsOverrideFunctionCallMode){u=1;o=r.override.apply(this.thisObject,i);continue}if(r instanceof n.CallbackOverrideFunctionCallMode){r.override.apply(this.thisObject,i);continue}}switch(u){case 1:return o;case 0:throw e;}},t.prototype._verifyFunction=function(n,t){for(var r,i=0;i<this._actualArguments.length;i++)r=this._actualArguments[i],this._doArgumentsMatch(n,r)&&t.numberOfMatches++},t.prototype._doArgumentsMatch=function(n,t){if(n.length!==t.length)return!1;if(n.length===0)return!0;for(var i=0;i<n.length;i++)if(!this._isSameArgument(t[i],n[i]))return!1;return!0},t.prototype._isSameArgument=function(t,i){var u=n.It.isAny(n.ItIsBase),r;return u.match(i)?(r=i,r.match(t)):t===i},t.prototype._addOverride=function(n,t){var i=new r(n,t);this._argumentsWithOverridesList.push(i)},t.prototype._moleReturnValueIfNeeded=function(t){if(this.functionProxyConfigurations.moleReturnValue){var i=new n.Mole(t);i.moleReturnValue=!0}return t},t}();n.FunctionProxy=i})(moqJS||(moqJS={}));
//# sourceMappingURL=FunctionProxy.min.js.map
