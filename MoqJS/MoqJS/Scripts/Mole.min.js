"use strict";var moqJS;(function(n){var t=function(){function t(i){this.object=i;this._FunctionProxyConfigurations=new n.FunctionProxyConfigurations;this._FunctionProxyConfigurations.callBase=!0;this._setFunctionProxies();this._setPropertiesProxies();t._moles.push(this)}return t.prototype.dispose=function(){for(var i,r,u,n=0;n<this._functionProxies.length;n++)i=this._functionProxies[n],this.object[i.originalFunctionName]=i.originalFunction;for(n=0;n<this._propertyGetterProxies.length;n++)i=this._propertyGetterProxies[n],r=this._getPropertyDescriptor(this.object,i.originalFunctionName),r.get=i.originalFunction,this._setProperty(this.object,i.originalFunctionName,r);for(n=0;n<this._propertySetterProxies.length;n++)i=this._propertySetterProxies[n],r=this._getPropertyDescriptor(this.object,i.originalFunctionName),r.set=i.originalFunction,this._setProperty(this.object,i.originalFunctionName,r);u=t._moles.indexOf(this);t._moles.splice(u,1)},Object.defineProperty(t.prototype,"callBase",{get:function(){return this._FunctionProxyConfigurations.callBase},set:function(n){this._FunctionProxyConfigurations.callBase=n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isStrict",{get:function(){return this._FunctionProxyConfigurations.isStrict},set:function(n){this._FunctionProxyConfigurations.isStrict=n},enumerable:!0,configurable:!0}),t.prototype.setup=function(t){return new n.FunctionSetup(t,this.object,this._FunctionProxyConfigurations)},t.prototype.setupPrivate=function(n){for(var i,t=[],r=0;r<arguments.length-1;r++)t[r]=arguments[r+1];if(i=this._getPropertyDescriptor(this.object,n),i.value)return this.setup(function(i){var r=i[n];r.apply(i,t)});if(t.length<1&&i.get)return this.setup(function(n){i.get.apply(n,t)});if(t.length===1&&i.set)return this.setup(function(n){i.set.apply(n,t)});throw"Should be an existing function/getter/setter with appropriate number of arguments";},t.prototype.verify=function(t,i){var u=new n.VerifyFunctionCallMode,r;return(this._FunctionProxyConfigurations.functionCallMode=u,t(this.object),this._FunctionProxyConfigurations.functionCallMode=new n.InvokeFunctionCallMode,r=u.numberOfMatches,!i)?r>0:i.match(r)},t.prototype.verifyPrivate=function(n,t,i){var r=function(i){var r=i[n];r.apply(i,t)};return this.verify(r,i)},t.findMoleByObject=function(n){var i,r;if(n===null||n===undefined)return null;for(i=0;i<t._moles.length;i++)if(r=t._moles[i],r.object===n)return r;return null},t.prototype._setFunctionProxies=function(){var i,t,f;for(this._functionProxies=[],i=this._getObjectPropertyNames(),t=0;t<i.length;t++)try{var r=i[t],e=this._getPropertyDescriptor(this.object,r),u=e.value;if(typeof u!="function")continue;f=new n.FunctionProxy(r,u,this.object,this._FunctionProxyConfigurations);this._functionProxies.push(f);this._setFunctionProxy(this._functionProxies,this._functionProxies.length-1,r)}catch(o){}},t.prototype._getObjectPropertyNames=function(){var n=Object.getOwnPropertyNames(this.object);for(var t in this.object)n.lastIndexOf(t)<0&&n.push(t);return n},t.prototype._setFunctionProxy=function(n,t,i){this.object[i]=function(){for(var r=[],i=0;i<arguments.length-0;i++)r[i]=arguments[i+0];return n[t].callFunction(r)}},t.prototype._setPropertiesProxies=function(){var r,i,t,n;for(this._propertyGetterProxies=[],this._propertySetterProxies=[],r=this._getObjectPropertyNames(),i=0;i<r.length;i++)try{if(t=r[i],n=this._getPropertyDescriptor(this.object,t),!n)continue;n.get&&this._setPropertyGetterProxy(t,n);n.set&&this._setPropertySetterProxy(t,n);(n.get||n.set)&&this._setProperty(this.object,t,n)}catch(u){}},t.prototype._getPropertyDescriptor=function(n,t){var i=Object.getOwnPropertyDescriptor(n,t);return i?i:n.__proto__?this._getPropertyDescriptor(n.__proto__,t):undefined},t.prototype._setProperty=function(n,t,i){Object.defineProperty(n,t,i)},t.prototype._setPropertyGetterProxy=function(t,i){var r=new n.FunctionProxy(t,i.get,this.object,this._FunctionProxyConfigurations);this._propertyGetterProxies.push(r);i.get=function(){return r.callFunction([])}},t.prototype._setPropertySetterProxy=function(t,i){var r=new n.FunctionProxy(t,i.set,this.object,this._FunctionProxyConfigurations);this._propertySetterProxies.push(r);i.set=function(n){return r.callFunction([n])}},t._moles=[],t}();n.Mole=t})(moqJS||(moqJS={}));
//# sourceMappingURL=Mole.min.js.map
