"use strict";var __extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},moqJS;(function(n){var e=function(){function n(){}return n}(),i,t,r,u,f;n.InvokeFunctionCallMode=e;i=function(){function n(){this.numberOfMatches=0}return n}();n.VerifyFunctionCallMode=i;t=function(){function n(n){this.override=n}return n}();n.OverrideFunctionCallMode=t;r=function(n){function t(t){n.call(this,t);this.getReturnValue=t}return __extends(t,n),t}(t);n.ReturnsOverrideFunctionCallMode=r;u=function(n){function t(t){n.call(this,t);this.getErrorToThrow=t}return __extends(t,n),t}(t);n.ThrowsOverrideFunctionCallMode=u;f=function(n){function t(t){n.call(this,t);this.callbackFunction=t}return __extends(t,n),t}(t);n.CallbackOverrideFunctionCallMode=f})(moqJS||(moqJS={})),function(n){var r=function(){function n(n,t){this.exptectedArguments=n;this.override=t}return n}(),t,i;(function(n){n[n.ThrowError=0]="ThrowError";n[n.ReturnValue=1]="ReturnValue";n[n.DoNothing=2]="DoNothing"})(t||(t={}));i=function(){function t(n,t,i,r){this.originalFunctionName=n;this.originalFunction=t;this.thisObject=i;this.functionProxyConfigurations=r;this._numberOfTimesCalled=0;this._actualArguments=[];this._argumentsWithOverridesList=[]}return t.prototype.callFunction=function(t){if(this.functionProxyConfigurations.functionCallMode instanceof n.InvokeFunctionCallMode)return this._callFunctionWithoutVerification(t);if(this.functionProxyConfigurations.functionCallMode instanceof n.OverrideFunctionCallMode)this._addOverride(t,this.functionProxyConfigurations.functionCallMode);else if(this.functionProxyConfigurations.functionCallMode instanceof n.VerifyFunctionCallMode)this._verifyFunction(t,this.functionProxyConfigurations.functionCallMode);else throw"not supported functionCallMode";},t.prototype._callFunctionWithoutVerification=function(n){var i,t;if(this._numberOfTimesCalled++,this._actualArguments.push(n),i=this._getMatchingOverrides(n),i.length>0)return t=this._executeOverrides(i,n),this._moleReturnValueIfNeeded(t);if(this.functionProxyConfigurations.isStrict)throw'No function setups defined and using strict mode. Change "isStrict" to false or define a function setup';if(this.functionProxyConfigurations.callBase)return t=this.originalFunction.apply(this.thisObject,n),this._moleReturnValueIfNeeded(t)},t.prototype._getMatchingOverrides=function(n){for(var i,r=[],t=0;t<this._argumentsWithOverridesList.length;t++)i=this._argumentsWithOverridesList[t],this._doArgumentsMatch(i.exptectedArguments,n)&&r.push(i.override);return r},t.prototype._executeOverrides=function(t,i){for(var r,u=2,e,o,f=0;f<t.length;f++){if(r=t[f],r instanceof n.ThrowsOverrideFunctionCallMode){u=0;e=r.override.apply(this.thisObject,i);continue}if(r instanceof n.ReturnsOverrideFunctionCallMode){u=1;o=r.override.apply(this.thisObject,i);continue}if(r instanceof n.CallbackOverrideFunctionCallMode){r.override.apply(this.thisObject,i);continue}}switch(u){case 1:return o;case 0:throw e;}},t.prototype._verifyFunction=function(n,t){for(var r,i=0;i<this._actualArguments.length;i++)r=this._actualArguments[i],this._doArgumentsMatch(n,r)&&t.numberOfMatches++},t.prototype._doArgumentsMatch=function(n,t){if(n.length!==t.length)return!1;if(n.length===0)return!0;for(var i=0;i<n.length;i++)if(!this._isSameArgument(t[i],n[i]))return!1;return!0},t.prototype._isSameArgument=function(t,i){var u=n.It.isAny(n.ItIsBase),r;return u.match(i)?(r=i,r.match(t)):t===i},t.prototype._addOverride=function(n,t){var i=new r(n,t);this._argumentsWithOverridesList.push(i)},t.prototype._moleReturnValueIfNeeded=function(t){if(this.functionProxyConfigurations.moleReturnValue){var i=new n.Mole(t);i.moleReturnValue=!0}return t},t}();n.FunctionProxy=i}(moqJS||(moqJS={})),function(n){var t=function(){function t(){this.callBase=!0;this.isStrict=!1;this.moleReturnValue=!1;this.functionCallMode=new n.InvokeFunctionCallMode}return t}();n.FunctionProxyConfigurations=t}(moqJS||(moqJS={})),function(n){var t=function(){function t(n,t,i){this.functionCall=n;this.object=t;this.functionProxyConfigurations=i}return t.prototype.lazyReturns=function(t){var i=this,r=new n.ReturnsOverrideFunctionCallMode(function(){for(var r=[],n=0;n<arguments.length-0;n++)r[n]=arguments[n+0];return t.apply(i.object,r)});return this._callWithOverrideMode(r)},t.prototype.lazyReturnsInOrder=function(t){var r=this,i=t.map(function(n){return n}),u=new n.ReturnsOverrideFunctionCallMode(function(){for(var u,t=[],n=0;n<arguments.length-0;n++)t[n]=arguments[n+0];return i.length<1?undefined:(u=i.shift(),u.apply(r.object,t))});return this._callWithOverrideMode(u)},t.prototype.returns=function(t){var i=new n.ReturnsOverrideFunctionCallMode(function(){return t});return this._callWithOverrideMode(i)},t.prototype.returnsInOrder=function(n){var t=n.map(function(n){return function(){return n}});return this.lazyReturnsInOrder(t)},t.prototype.callback=function(t){var i=this,r=new n.CallbackOverrideFunctionCallMode(function(){for(var r=[],n=0;n<arguments.length-0;n++)r[n]=arguments[n+0];t.apply(i.object,r)});return this._callWithOverrideMode(r)},t.prototype.lazyThrows=function(t){var i=this,r=new n.ThrowsOverrideFunctionCallMode(function(){for(var r=[],n=0;n<arguments.length-0;n++)r[n]=arguments[n+0];return t.apply(i.object,r)});return this._callWithOverrideMode(r)},t.prototype.throws=function(n){return this.lazyThrows(function(){return n})},t.prototype._callWithOverrideMode=function(t){return this.functionProxyConfigurations.functionCallMode=t,this.functionCall(this.object),this.functionProxyConfigurations.functionCallMode=new n.InvokeFunctionCallMode,this},t}();n.FunctionSetup=t}(moqJS||(moqJS={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){var t=function(){function n(){}return n.prototype.match=function(){return!1},n}();n.ItIsBase=t;var i=function(n){function t(t){n.call(this);this.expectedType=t}return __extends(t,n),t.prototype.match=function(n){return n===null||n===undefined?!1:n.constructor===this.expectedType||n instanceof this.expectedType},t}(t),r=function(n){function t(t){n.call(this);this.predicate=t}return __extends(t,n),t.prototype.match=function(n){return this.predicate(n)},t}(t),u=function(n){function t(t,i){n.call(this);this.minimumValue=t;this.maximumValue=i}return __extends(t,n),t.prototype.match=function(n){return isNaN(n)?!1:this.minimumValue<=n&&n<=this.maximumValue},t}(t),f=function(n){function t(t){n.call(this);this.regExp=t}return __extends(t,n),t.prototype.match=function(n){return this._isString(n)?this.regExp.test(n):!1},t.prototype._isString=function(n){var t=new i(String);return t.match(n)},t}(t),e=function(){function n(){}return n.isAny=function(n){return new i(n)},n.is=function(n){return new r(n)},n.isInRange=function(n,t){return new u(n,t)},n.isRegExp=function(n){return new f(n)},n}();n.It=e}(moqJS||(moqJS={})),function(n){var t=function(){function t(i){this.object=i;this._FunctionProxyConfigurations=new n.FunctionProxyConfigurations;this._FunctionProxyConfigurations.callBase=!0;this._setFunctionProxies();this._setPropertiesProxies();t._moles.push(this)}return t.prototype.dispose=function(){for(var i,r,u,n=0;n<this._functionProxies.length;n++)i=this._functionProxies[n],this.object[i.originalFunctionName]=i.originalFunction;for(n=0;n<this._propertyGetterProxies.length;n++)i=this._propertyGetterProxies[n],r=this._getPropertyDescriptor(this.object,i.originalFunctionName),r.get=i.originalFunction,this._setProperty(this.object,i.originalFunctionName,r);for(n=0;n<this._propertySetterProxies.length;n++)i=this._propertySetterProxies[n],r=this._getPropertyDescriptor(this.object,i.originalFunctionName),r.set=i.originalFunction,this._setProperty(this.object,i.originalFunctionName,r);u=t._moles.indexOf(this);t._moles.splice(u,1)},Object.defineProperty(t.prototype,"callBase",{get:function(){return this._FunctionProxyConfigurations.callBase},set:function(n){this._FunctionProxyConfigurations.callBase=n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isStrict",{get:function(){return this._FunctionProxyConfigurations.isStrict},set:function(n){this._FunctionProxyConfigurations.isStrict=n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"moleReturnValue",{get:function(){return this._FunctionProxyConfigurations.moleReturnValue},set:function(n){this._FunctionProxyConfigurations.moleReturnValue=n},enumerable:!0,configurable:!0}),t.prototype.setup=function(t){return new n.FunctionSetup(t,this.object,this._FunctionProxyConfigurations)},t.prototype.setupPrivate=function(n){for(var i,t=[],r=0;r<arguments.length-1;r++)t[r]=arguments[r+1];if(i=this._getPropertyDescriptor(this.object,n),i.value)return this.setup(function(i){var r=i[n];r.apply(i,t)});if(t.length<1&&i.get)return this.setup(function(n){i.get.apply(n,t)});if(t.length===1&&i.set)return this.setup(function(n){i.set.apply(n,t)});throw"Should be an existing function/getter/setter with appropriate number of arguments";},t.prototype.verify=function(t,i){var u=new n.VerifyFunctionCallMode,r;return(this._FunctionProxyConfigurations.functionCallMode=u,t(this.object),this._FunctionProxyConfigurations.functionCallMode=new n.InvokeFunctionCallMode,r=u.numberOfMatches,!i)?r>0:i.match(r)},t.prototype.verifyPrivate=function(n,t,i){var r=function(i){var r=i[n];r.apply(i,t)};return this.verify(r,i)},t.findMoleByObject=function(n){var i,r;if(n===null||n===undefined)return null;for(i=0;i<t._moles.length;i++)if(r=t._moles[i],r.object===n)return r;return null},t.prototype._setFunctionProxies=function(){var i,t,f;for(this._functionProxies=[],i=this._getObjectPropertyNames(),t=0;t<i.length;t++)try{var r=i[t],e=this._getPropertyDescriptor(this.object,r),u=e.value;if(typeof u!="function")continue;f=new n.FunctionProxy(r,u,this.object,this._FunctionProxyConfigurations);this._functionProxies.push(f);this._setFunctionProxy(this._functionProxies,this._functionProxies.length-1,r)}catch(o){}},t.prototype._getObjectPropertyNames=function(){var n=Object.getOwnPropertyNames(this.object);for(var t in this.object)n.lastIndexOf(t)<0&&n.push(t);return n},t.prototype._setFunctionProxy=function(n,t,i){this.object[i]=function(){for(var r=[],i=0;i<arguments.length-0;i++)r[i]=arguments[i+0];return n[t].callFunction(r)}},t.prototype._setPropertiesProxies=function(){var r,i,t,n;for(this._propertyGetterProxies=[],this._propertySetterProxies=[],r=this._getObjectPropertyNames(),i=0;i<r.length;i++)try{if(t=r[i],n=this._getPropertyDescriptor(this.object,t),!n)continue;n.get&&this._setPropertyGetterProxy(t,n);n.set&&this._setPropertySetterProxy(t,n);(n.get||n.set)&&this._setProperty(this.object,t,n)}catch(u){}},t.prototype._getPropertyDescriptor=function(n,t){var i=Object.getOwnPropertyDescriptor(n,t);return i?i:n.__proto__?this._getPropertyDescriptor(n.__proto__,t):undefined},t.prototype._setProperty=function(n,t,i){Object.defineProperty(n,t,i)},t.prototype._setPropertyGetterProxy=function(t,i){var r=new n.FunctionProxy(t,i.get,this.object,this._FunctionProxyConfigurations);this._propertyGetterProxies.push(r);i.get=function(){return r.callFunction([])}},t.prototype._setPropertySetterProxy=function(t,i){var r=new n.FunctionProxy(t,i.set,this.object,this._FunctionProxyConfigurations);this._propertySetterProxies.push(r);i.set=function(n){return r.callFunction([n])}},t._moles=[],t}();n.Mole=t}(moqJS||(moqJS={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){var t=function(){function n(n){this.expected=n}return n.prototype.match=function(){return!1},n}(),i=function(n){function t(t){n.call(this,t)}return __extends(t,n),t.prototype.match=function(n){return n<this.expected},t}(t),r=function(n){function t(t){n.call(this,t)}return __extends(t,n),t.prototype.match=function(n){return n<=this.expected},t}(t),u=function(n){function t(t){n.call(this,t)}return __extends(t,n),t.prototype.match=function(n){return n===this.expected},t}(t),f=function(n){function t(t){n.call(this,t)}return __extends(t,n),t.prototype.match=function(n){return n>=this.expected},t}(t),e=function(n){function t(t){n.call(this,t)}return __extends(t,n),t.prototype.match=function(n){return n>this.expected},t}(t),o=function(){function n(n,t){this.minimumExpected=n;this.maximumExpected=t}return n.prototype.match=function(n){return n<this.minimumExpected?!1:n>this.maximumExpected?!1:!0},n}(),s=function(){function n(){}return n.lessThan=function(n){return new i(n)},n.atMost=function(n){return new r(n)},n.exact=function(n){return new u(n)},n.atLeast=function(n){return new f(n)},n.moreThan=function(n){return new e(n)},n.between=function(n,t){return new o(n,t)},n}();n.Times=s}(moqJS||(moqJS={}));
//# sourceMappingURL=MoqJS.min.js.map
